<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>g00n control</title>
<style>
    body, html {
        margin: 0;
        padding: 0;
        background: black;
        color: white;

        padding-left: 1em;
        height: 100%;
    }

    button {
            margin: 10px;
            padding: 15px 25px;
            font-size: 16px;
            cursor: pointer;
        }

</style>
</head>
<body>


    <!-- youtube-dl --verbose -ci --download-archive "/Users/augusta/Desktop/archive-g00n/archive.txt" --batch-file=batch-file.txt -->

    <h1>g00n control</h1>
    <br>
    <button id="oButton">O = Sync and cycle as one</button>
    <br>
    <button id="rButton">R = Refresh</button>
    <br>
    <button id="sButton">S = Slow</button>
    <br>
    <button id="fButton">F = Fast</button>
    <br>
    <button id="nButton">N = Normal speed</button>
    <br>
    <button id="bButton">B = Blackout</button>
    <br>
    <button id="hButton">H = Half refresh</button>
    <br>
    <button id="xButton">X = X Mode</button>
    <br>
    <br>
    <br>
        <p>O sets all as the same video and cycles through them</p>
            <p>F sets them all fast</p>
                <p>S sets them all slow</p>
                <p>N sets them all normal speed</p>
                <p>R refresh</p>
                <p>B black</p>
                <p>H change half the videos</p>
                <p>X sex ed</p>


    <button id="button">Refresh</button>


<script>
    
console.log("hello g00n control");



document.getElementById("button").onclick = function() {
    reserve.broadcast({action:"switch"})
    console.log("pressed")
};

document.addEventListener('keydown', function(event) {
    if (event.key === 'f' || event.key === 'F') {
        reserve.broadcast({action:"faster"})
        console.log("pressed F")
    }
});


document.addEventListener('keydown', function(event) {
    if (event.key === 's' || event.key === 'S') {
        reserve.broadcast({action:"slower"})
        console.log("pressed S")
    }
});

document.addEventListener('keydown', function(event) {
    if (event.key === 'n' || event.key === 'N') {
        reserve.broadcast({action:"normal-speed"})
        console.log("pressed N")
    }
});

document.addEventListener('keydown', function(event) {
    if (event.key === 'o' || event.key === 'O') {
        reserve.broadcast({action:"one-video"})
        console.log("pressed O")
    }
});

document.addEventListener('keydown', function(event) {
    if (event.key === 'h' || event.key === 'H') {
        reserve.broadcast({action:"one-half"})
        console.log("pressed 1")
    }
});


document.addEventListener('keydown', function(event) {
    if (event.key === 'r' || event.key === 'R') {
        console.log("pressed R");
        reserve.broadcast({action:"refresh"})
    }
});


document.addEventListener('keydown', function(event) {
    if (event.key === 'r' || event.key === 'R') {
        console.log("pressed R");
        reserve.broadcast({action:"refresh"})
    }
});


document.addEventListener('keydown', function(event) {
    if (event.key === 'b' || event.key === 'B') {
        reserve.broadcast({action:"blackout"})
    }
});

document.addEventListener('keydown', function(event) {
    if (event.key === 'x' || event.key === 'X') {
        reserve.broadcast({action:"sexed"})
    }
});


function simulateKeyPress(character) {
        const event = new KeyboardEvent('keydown', {
            key: character,
            code: `Key${character.toUpperCase()}`,
            keyCode: character.charCodeAt(0),
            which: character.charCodeAt(0),
            bubbles: true
        });
        document.dispatchEvent(event);
    }

    document.getElementById('oButton').addEventListener('click', () => {
        simulateKeyPress('o');
    });

    document.getElementById('rButton').addEventListener('click', () => {
        simulateKeyPress('r');
    });

    document.getElementById('fButton').addEventListener('click', () => {
        simulateKeyPress('f');
    });
    document.getElementById('sButton').addEventListener('click', () => {
        simulateKeyPress('s');
    });
    document.getElementById('nButton').addEventListener('click', () => {
        simulateKeyPress('n');
    });
    document.getElementById('bButton').addEventListener('click', () => {
        simulateKeyPress('b');
    });
    document.getElementById('hButton').addEventListener('click', () => {
        simulateKeyPress('h');
    });
    document.getElementById('xButton').addEventListener('click', () => {
        simulateKeyPress('x');
    });






// // to SEND
// reserve.broadcast({action:"switch"})
// reserve.broadcast({action:"switch"})

// var actions = {
//     switch: function(value){
//         //code for switching
//     }
// }



// // to RECEIVE
// window.addEventListener("broadcast", function(event){

//     var message = event.detail;
// })


// window.addEventListener("broadcast", function(event){

//     var message = event.detail;
//     actions[message.action](message.value);
// })




</script>
</body>
</html>